// Static knowledge base - no database needed for POC
export const KNOWLEDGE_BASE = {
  "pricing": {
    keywords: ["price", "cost", "pricing", "budget", "rates", "expensive", "cheap", "affordable"],
    response: "Packages start under $500 (daily) per person including accommodation, meals, airport pickup and amenities. Pricing varies based on degree of accommodation privacy (eg. shared rooms, shared villas or private villas), season and length of stay (longer stays pay less per day)"
  },
  "location": {
    keywords: ["location", "where", "address", "tropical", "caribbean", "dominican republic", "place"],
    response: "Green Office is located in a tropical paradise with Caribbean-inspired architecture in the Dominican Republic. The work-oriented resort setting provides a serene environment perfect for productive team retreats while maintaining connectivity to modern amenities."
  },
  "facilities": {
    keywords: ["facilities", "villas", "offices", "spaces", "accommodation"],
    response: "We feature private villas with integrated office spaces, combining luxury accommodation with professional work environments. Each villa includes ergonomic furniture, dedicated work areas, and seamless indoor-outdoor flow for balanced productivity, inspiration and relaxation."
  },
  "capacity": {
    keywords: ["capacity", "size", "how many", "attendees", "guests", "people", "expansion"],
    response: "Current capacity accommodates up to 50 guests in Phase 1. We're expanding to serve up to 300+ guests by 2027-2028. For groups of 51-300+, we maintain a waitlist and provide updates on availability."
  },
  "internet": {
    keywords: ["internet", "wifi", "speed", "bandwidth", "connectivity", "tech"],
    response: "High-speed, reliable internet ensures reliable connectivity for video conferencing, file sharing, and remote work needs. Multiple access points throughout the property guarantee strong signal in all areas."
  },
  "affiliate": {
    keywords: ["affiliate", "commission", "planner", "discount", "referral"],
    response: "Retreat planners and affiliates earn a commission on successful bookings. We also offer discounts for qualified planners to help you provide competitive pricing to your clients."
  },
  "office_amenities": {
    keywords: ["office", "workspace", "meeting", "conference", "projector", "whiteboard"],
    response: "Office spaces include ergonomic desks and chairs, docking stations connected to 2 monitors, whiteboards, projectors and video conferencing equipment. Conference rooms accommodate various group sizes for meetings and presentations."
  },
  "relaxation": {
    keywords: ["pool", "yoga", "relaxation", "wellness", "spa", "outdoor"],
    response: "Relaxation amenities include swimming pools, dedicated yoga decks, hiking trails, and outdoor lounging areas. The tropical setting provides natural stress relief and team bonding opportunities."
  },
  "dining": {
    keywords: ["food", "meals", "dining", "catering", "organic", "dietary"],
    response: "Organic, locally-sourced meals with customizable options including vegan, vegetarian, and gluten-free choices. Full catering, partial catering, or self-service options available based on your preferences."
  },
  "technology": {
    keywords: ["av", "audio visual", "tech setup", "equipment", "presentation"],
    response: "Complete AV equipment including projectors, sound systems, microphones, and presentation tools. Technical support available to ensure smooth operation of all equipment during your retreat."
  },
  "accessibility": {
    keywords: ["accessibility", "wheelchair", "ramps", "adapted", "special needs"],
    response: "Accessibility features include ramps, adapted villas, and accommodations for guests with special needs. Contact us in advance to discuss specific accessibility requirements."
  },
  "sustainability": {
    keywords: ["sustainability", "eco-friendly", "green", "environment", "carbon"],
    response: "100% renewable energy through solar power, zero-waste initiatives, and organic gardens on-site. We're certified eco-friendly and include carbon offsets with every booking."
  },
  "local_sourcing": {
    keywords: ["local", "sourcing", "community", "organic", "gardens"],
    response: "We prioritize local sourcing for meals and materials, supporting the community while reducing environmental impact. On-site organic gardens provide fresh ingredients for meals."
  },
  "tree_planting": {
    keywords: ["trees", "planting", "environmental", "offset", "green initiative"],
    response: "Every booking includes tree planting to offset carbon footprint. Guests can participate in planting activities as part of their team-building experience."
  },
  "booking": {
    keywords: ["booking", "reserve", "process", "deposit", "payment"],
    response: "Booking process: 1) Inquiry via chatbot/website, 2) Receive personalized quote via email, 3) 20% deposit to reserve dates, 4) Full payment 30 days prior to arrival."
  },
  "cancellation": {
    keywords: ["cancellation", "refund", "policy", "cancel", "change"],
    response: "Cancellations with 60+ days notice receive 50% refund. Changes to dates subject to availability. We recommend travel insurance for additional protection."
  },
  "availability": {
    keywords: ["availability", "calendar", "seasons", "peak", "booking ahead"],
    response: "Peak seasons (January-March, July-September) require booking 6+ months in advance. Off-peak periods offer 20% discounts and more flexible availability."
  },
  "calendar": {
    keywords: ["calendar", "schedule", "dates", "availability", "when"],
    response: "Visit www.greenofficevillas.com/book for real-time calendar availability. We recommend booking well in advance, especially for peak seasons and larger groups."
  },
  "geographic": {
    keywords: ["country", "region", "climate", "weather", "tropical"],
    response: "Located in a tropical climate region with year-round warm weather. The setting provides a perfect escape from urban environments while maintaining professional amenities."
  },
  "transportation": {
    keywords: ["airport", "shuttle", "transportation", "travel", "getting there"],
    response: "Nearest airport (Puerto Plata, POP) is approximately 50 minutes shuttle ride away. Santiago (STI) is about 1.5 hours away. Green Office offers free shuttle service to/from Puerto Plata and Santiago. Other airport options include Santo Domingo (SDQ) which is 3.5 hours away and Punta Cana (PUJ) which is 5.5 hours away. Rental car options are also available."
  },
  "visa": {
    keywords: ["visa", "passport", "requirements", "travel documents"],
    response: "USA, Canada and Europe generally do not require a Visa. For other countries, check with your country's embassy for specific requirements. We can provide invitation letters for visa applications if needed."
  },
  "team_building": {
    keywords: ["team building", "activities", "games", "outdoor", "hiking"],
    response: "Guided hikes, team games, art workshops, and custom team-building exercises. Professional facilitators available to design activities matching your team's goals and dynamics."
  },
  "work_sessions": {
    keywords: ["strategy", "brainstorming", "workshops", "facilitation", "work sessions"],
    response: "Strategy sessions, brainstorming workshops, and structured work sessions. Quiet spaces and meeting rooms support focused work time and collaborative projects."
  },
  "wellness": {
    keywords: ["wellness", "yoga", "meditation", "health", "mindfulness"],
    response: "Yoga sessions, meditation workshops, and wellness programs led by certified instructors. Wellness activities can be integrated into your retreat schedule."
  },
  "facilitation": {
    keywords: ["facilitator", "custom", "professional", "guided", "leadership"],
    response: "Professional facilitators available for leadership development, team dynamics, and custom workshop design. Services tailored to your specific organizational goals."
  },
  "partnership": {
    keywords: ["partnership", "affiliate", "collaboration", "business"],
    response: "Partnership opportunities include affiliate programs, venue partnerships, and collaborative marketing. Contact admin@greenofficevillas.com for detailed discussions."
  },
  "referral": {
    keywords: ["referral", "recommend", "program", "benefits", "rewards"],
    response: "Active referral programs reward successful recommendations. Benefits include commission structures and priority booking for referring partners."
  },
  "pets": {
    keywords: ["pets", "animals", "dogs", "cats", "service animals"],
    response: "Pet accommodations handled case-by-case basis. Service animals always welcome. Contact us in advance to discuss specific pet requirements and arrangements."
  },
  "hybrid": {
    keywords: ["hybrid", "virtual", "remote", "online", "mixed"],
    response: "Yes, we support hybrid retreats with virtual integration capabilities. High-speed internet and AV equipment enable seamless connection with remote team members."
  },
  "covid": {
    keywords: ["covid", "health", "safety", "vaccination", "masks"],
    response: "Vaccination encouraged but not required. Masking optional based on current guidelines. We maintain flexible health policies adapted to current recommendations."
  },
  "insurance": {
    keywords: ["insurance", "liability", "coverage", "protection"],
    response: "Standard venue liability insurance included. Personal travel insurance recommended for comprehensive coverage of travel-related issues."
  }
};

export function searchKnowledge(query: string): string {
  // Simple keyword matching instead of complex algorithms
  const lowercaseQuery = query.toLowerCase();

  for (const data of Object.values(KNOWLEDGE_BASE)) {
    if (data.keywords.some(keyword => lowercaseQuery.includes(keyword))) {
      return data.response;
    }
  }

  return "I can help with Green Office infoâ€”try rephrasing your question or ask about our location, pricing, amenities, booking process, capacity, sustainability efforts, activities, or dining options.";
}
