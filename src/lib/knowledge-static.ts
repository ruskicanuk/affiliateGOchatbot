// Static knowledge base - Single source of truth from KNOWLEDGE_BASE_DOCUMENTATION.md
export const KNOWLEDGE_BASE = {
  "location": {
    keywords: ["location", "where", "address", "tropical", "caribbean", "dominican republic", "cabarete", "surroundings", "noise", "map", "place"],
    response: "Green Office Villas is a private 'nature-first' work resort in the Dominican Republic, just 20 minutes east of Cabarete and 8 minutes from the nearest town. You'll enjoy complete tranquility—no city views or sounds—just tropical paradise as your backdrop. Is there anything else you'd like to know?"
  },
  "target_audience": {
    keywords: ["who is this for", "target audience", "corporate", "startup", "individual", "work resort", "segments"],
    response: "We're a luxury Work Resort designed for: Corporate retreats & leadership offsites, Innovation sessions & product launches, Employee reward/incentive trips, and Executive workcations for individuals/digital nomads. We blend 5-star accommodations with professional workspaces for productive, memorable experiences. How else can I assist you today?"
  },
  "capacity": {
    keywords: ["capacity", "size", "how many", "attendees", "guests", "people", "expansion", "occupancy", "large groups", "buyout"],
    response: "Phase 1 accommodates 55–110 guests: 55 guests with private rooms (1 per room) or up to 110 guests with shared rooms (2 single beds per room). We specialize in exclusive buyouts for a private campus feel and can combine villas to fit your exact group size. Anything else I can help with?"
  },
  "connectivity": {
    keywords: ["internet", "wifi", "speed", "bandwidth", "connectivity", "tech", "starlink", "fiber"],
    response: "We prioritize reliable tech: lightning-fast fiber internet throughout the property, backed by Starlink for 100% redundancy. High-speed connectivity works seamlessly in villas, offices, and the event center—perfect for hybrid meetings and video calls. Is there anything else you'd like to know?"
  },
  "workspaces": {
    keywords: ["office", "desk", "ergonomic", "monitor", "boardrooms", "breakout", "workspace", "meeting", "conference"],
    response: "Every villa includes professional private offices with ergonomic chairs, dual monitors, and high-speed internet. We also offer panoramic boardrooms and creative breakout zones for collaboration. How else can I help?"
  },
  "event_center": {
    keywords: ["event center", "launch", "demo", "presentation", "stage", "all-hands", "product launch"],
    response: "Our flexible Event Center seats up to 110 and features professional AV, stage, and lighting—ideal for strategy sessions, product demos, investor showcases, or celebratory dinners with tropical ambiance. Anything else on your mind?"
  },
  "villa_types": {
    keywords: ["villa types", "bedrooms", "phase 1", "inventory", "facilities", "villas", "accommodation"],
    response: "Phase 1 villas: Classic Luxury (3-Bedroom) – great for small teams, Executive Luxury (4- or 5-Bedroom) – expansive spaces with private offices, Executive Estate (11-Bedroom) – flagship for larger groups. All designed for team cohesion and productivity."
  },
  "room_config": {
    keywords: ["shared room", "private room", "bed", "sleeping arrangements", "beds"],
    response: "Private: King bed (single occupancy). Shared: Two single beds per room (double occupancy). Let me know your group size and I can suggest the best setup!"
  },
  "pricing": {
    keywords: ["price", "cost", "pricing", "budget", "rates", "expensive", "cheap", "affordable", "high season", "low season", "villa price"],
    response: "Base rates include villa, workspaces, wellness facilities, courts, beach access, and curated team activities (meals extra). High Season (Dec–Apr): 3-Bed Classic ~$2,250 USD, 4-Bed Executive ~$3,850 USD, 5-Bed Executive ~$4,550 USD, 11-Bed Estate ~$8,350 USD. Low Season (Jun–Oct): ~25% off (e.g., 3-Bed starts ~$1,665 USD). Group Discounts: 5% (10–15 guests), 10% (16–30), 15% (30+). Preferred partners up to 40% off. Happy to quote your dates!"
  },
  "meals": {
    keywords: ["food", "meals", "dining", "catering", "organic", "dietary", "chef", "meal plan"],
    response: "Plated group dining (rotating global cuisines, dietary options included): Essentials $80 pp/day (breakfast, lunch, 3-course dinner), Executive $120 pp/day (+ elevated dinner & basic bar), Private Chef $160+ pp/day (bespoke in-villa). Snacks/drinks available separately."
  },
  "team_building": {
    keywords: ["team building", "activities", "bonding", "GO empower", "survivor", "pool olympics", "donkey polo", "top chef", "games"],
    response: "Curated experiences included in base price: GO Empower (purposeful volunteering with local youth charity), Survivor Challenge, Pool Olympics, Donkey Polo, and Top Chef Challenge. Customizable for any group size/fitness level—great for lasting bonds! Which sounds most fun for your team?"
  },
  "adventures": {
    keywords: ["adventures", "excursions", "tours", "whale watching", "canyoning", "surfing", "concierge", "activities", "outdoor"],
    response: "Our GO Adventures Concierge customizes off-site experiences (10% group discount >10 people): kitesurfing, waterfall canyoning, catamaran sails, whale watching (Jan–Mar), jungle ziplines, and more. Fully arranged for you! Interested in adding adventure?"
  },
  "wellness": {
    keywords: ["spa", "massage", "sauna", "thermal pool", "beach", "pool", "yoga", "relaxation", "wellness"],
    response: "Included: Hydrotherapy spa sanctuary (thermal pools, sauna), lagoon-style pools, secluded private beach, and beach bar. Massages/treatments available as add-ons. Perfect balance of work and recharge!"
  },
  "social_responsibility": {
    keywords: ["charity", "GO empower", "social responsibility", "CSR", "local", "kids", "volunteering", "retention", "empowering dreams"],
    response: "We partner with Empowering Dreams to support at-risk youth. Teams volunteer through mentorship and workshops—creating emotional connection, stronger retention, and shared purpose. More than team building: it's purpose building."
  },
  "booking": {
    keywords: ["booking", "reserve", "process", "deposit", "payment", "invoice"],
    response: "20% deposit to reserve, balance due 30 days prior. Transparent USD invoicing."
  },
  "cancellation": {
    keywords: ["cancellation", "refund", "policy", "cancel", "change dates"],
    response: "60+ days: 50% deposit refund. 30–60 days: Deposit non-refundable (credit possible). <30 days: Full payment non-refundable."
  },
  "safety": {
    keywords: ["safety", "security", "insurance", "medical", "health"],
    response: "24/7 security, gated property, on-call medical support (hospital ~20 mins). Guests should carry travel/medical insurance."
  },
  "transportation": {
    keywords: ["airport", "shuttle", "transfer", "puerto plata", "POP", "STI", "santo domingo", "SDQ", "punta cana", "PUJ", "travel", "getting there", "pickup", "luxury transport"],
    response: "Puerto Plata (POP): Included group transfer (~20–30 mins). Other airports (STI, SDQ, PUJ): Private luxury upgrade available. We handle everything for smooth arrival!"
  },
  "visa": {
    keywords: ["visa", "passport", "requirements", "travel documents", "e-ticket", "entry"],
    response: "Most visitors (US, Canada, EU) enter visa-free. Complete quick online E-Ticket before arrival/departure: https://eticket.migracion.gob.do"
  },
  "faq": {
    keywords: ["alcohol", "outlets", "laundry", "washer", "minimum stay", "individual booking", "power", "plugs"],
    response: "Alcohol: Custom bar packages or BYO. Power: Standard US plugs (110V). Laundry: Washer/dryer in each villa + optional service. Minimum stay: 3 nights (low season), 4 nights (high season). Individual bookings: Yes—welcome via Workcation packages! How else can I help you plan your Green Office experience?"
  }
};

export function searchKnowledge(query: string): string {
  // Simple keyword matching instead of complex algorithms
  const lowercaseQuery = query.toLowerCase();

  for (const data of Object.values(KNOWLEDGE_BASE)) {
    if (data.keywords.some(keyword => lowercaseQuery.includes(keyword))) {
      return data.response;
    }
  }

  return "I can help with Green Office info—try rephrasing your question or ask about our location, pricing, amenities, booking process, capacity, sustainability efforts, activities, or dining options.";
}
